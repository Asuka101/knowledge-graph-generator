2. RR型调整操作

在A结点的右孩子（用B表示）的右子树上插入结点，使得A结点的平衡因子由-1变为-2而引起的不平衡所进行的调整操作，调整过程如图6-18所示。图6-18(a)为插入前的平衡子树，$\alpha$、$\beta$、$\gamma$子树的高度相同，均为$h(h\geq0)$，A结点和B结点的平衡因子分别为-1和0；图6-18(b)为在B结点的右子树$\gamma$上插入一个新结点，使以A为根的子树成为最小不平衡子树的情况；图6-18(c)为调整后重新恢复平衡的情况。调整规则是：将A的右孩子B向左上旋转代替A成为原最小不平衡子树的根结点，将A结点向左下旋转成为B的左子树的根结点，而B的原左子树$\beta$则作为A结点的右子树。此调整过程同LL型调整过程对称，要修改的3个指针如图6-18(c)中的箭头所示。同样，进行RR型调整前后，仍保持着二叉搜索树的特性不变。另外，在插入前和调整后，其子树高度均为$h+2$，由插入所引起的上层其他结点的不平衡将自动消失。

(a) 插入前
(b) 插入后
(c) 调整后

图6-18 RR型调整操作示意图

3. LR型调整操作

在A结点的左孩子（用B表示）的右子树上插入结点，使得A结点的平衡因子由1变为2而引起的不平衡所进行的调整操作，调整过程如图6-19所示。图6-19(a)为插入前的平衡子树，$\beta$和$\gamma$子树的高度均为$h(h\geq0)$，$\alpha$和$\delta$子树的高度均为$h+1$，特别地若$\alpha$和$\delta$子树为空树时，则B结点的右子树也同时为空，此时C结点将是被插入的新结点。插入前A结点和B结点的平衡因子分别为1和0，若C结点存在，则C结点的平衡因子为0。图6-19(b)为在B结点的右子树上插入一个新结点（当B的右子树为空时，则为C结点，否则为C的左子树或右子树上带阴影的结点，图中给出在左子树$\beta$上插入的情况，若在右子树$\gamma$上插入，情况类似），使得以A为根的子树成为最小不平衡子树的情况，此处A结点和B结点的平衡因子是按相反方向变化的，而不像前两种调整操作那样，都是按同一方向变化的。图6-19(c)为调整后的情况。调整规则是：将A的左孩子的右子树的根结点C提升到A结点的位置；将B结点作为C的左子树的根结点，而C结点的原左子树$\beta$则作为B结点的右子树；将A结点作为C的右子树的根结点，而C结点的原右子树则作为A结点的左子树。此调整过程比前两种要复杂，需修改5个指针，如图6-19(c)中的箭头所示。
